# CORS-Research

## How to enable CORS in your Api?
How to enable CORS in your Api greatly depends on what framework you are using. In some frameworks enabling and setting up CORS is very easy, in others it is a bit more complicated. In this document I will show you how to enable CORS in the following frameworks:
 - [ASP.NET Core](#aspnet-core)
 - [Spring Boot](#spring-boot)
 - [Node.js/Express](#nodejs)
 - [Laravel](#laravel)

### ASP.NET Core
In ASP.NET Core API enabling CORS is pretty straight forward. First you need to add CORS to the builder.Services in the Program.cs file. You do this by adding the following lines before the builder.Build() line:
```csharp
builder.services.AddCors();
```
After this we need to tell the app to use CORS. This is done by adding the following lines after the builder.Build() line:
```csharp
app.UseCors(x => x
                .WithOrigins("http://localhost:3000")
                .AllowAnyMethod()
                .AllowAnyHeader()
                .AllowCredentials());
```

http://localhost:3000 is in this case the Origin we allow to make requests to this API.

### Spring Boot

Springboot might've one of the easiest ways to enable CORS. All you need to do is add the following annotation to your controller:
```java
@CrossOrigin(origins = "http://localhost:3000")
```

You add this annotation to the controller that contains the methods that you want to allow CORS for. Or you can even add it before the method itself. In this case the Origin we allow to make requests to this API is http://localhost:3000.


### Node.js

To be able to create an API in Node.js with endpoints like you would in asp.net core for example, we need to use Express. Express is a web framework for Node.js. If you're interested in installing Express into your Node.js application, follow this [link](https://expressjs.com/en/starter/installing.html).

To enable CORS in Express, you need to install the CORS npm package. Go ahead and run the following command:

```javascript
npm install --save cors
```

After that you want to setup your application as usual + the CORS you just installed:

```javascript
var express = require('express');
var app = express();
var cors = require('cors');

app.use(cors({
  origin: 'http://localhost:3000'
}));
```

### Laravel

For Laravel enabling CORS is very straightforward. First take a look into your `app/Http/Kernel.php` file and make sure the `HandleCors` middleware is present.

```php
protected $middleware = [
    ...
    \Illuminate\Http\Middleware\HandleCors::class,
    ...
];
```

In your project you'll also find a `config/cors.php` file which is a configuration file generated by Laravel which you can use to setup CORS. This file is simply an associative array with key/value pairs. In it you can specify which methods, origins, headers, etc should be allowed.

```php
<?php

return [

    'paths' => ['api/*', 'sanctum/csrf-cookie'],

    'allowed_methods' => ['*'],

    'allowed_origins' => ['*'],

    'allowed_origins_patterns' => [],

    'allowed_headers' => ['*'],

    'exposed_headers' => [],

    'max_age' => 0,

    'supports_credentials' => false,

];
```